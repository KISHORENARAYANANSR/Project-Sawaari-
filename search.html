<!DOCTYPE html>
<html lang="en">
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search Results</title>
    <style>
        .card {
            background-color: rgba(255, 255, 255, 0.5);
            border: none;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            transition: background-color 0.3s, transform 0.3s;
        }
        .card:hover {
            background-color: rgba(255, 255, 255, 0.7);
            transform: scale(1.05);
        }
        .card-body {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100%;
            position: relative;
        }
        .card-title {
            font-weight: bold;
            color: #000;
            position: absolute;
            bottom: 10px;
            width: 100%;
            text-align: center;
            font-size: 1.50rem;
        }
        #search-results {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
        }
    </style>
</head>
<body style="background-image: url('bgpic3.jpg'); background-size: cover; background-attachment: fixed;">
    <div class="container">
        <div class="row mt-5">
            <div class="col-md-12 text-center">
                <h1>Search Results</h1>
                <div id="search-results" class="row mt-5">
                    <!-- Search results will appear here -->
                </div>
                <div id="no-results" class="alert alert-warning mt-3" role="alert" style="display: none;">
                    No results found.
                </div>
            </div>
        </div>
    </div>

    <script>
        const cards = [
            { name: "Ambattur OT", imgSrc: "buspic.png" }, 
            { name: "Aminijikarai", imgSrc: "buspic.png" },
            { name: "Anna Nagar-1", imgSrc: "buspic.png" },
            { name: "Anna Nagar-2", imgSrc: "buspic.png" },
            { name: "Arakonnam-1", imgSrc: "buspic.png" },
            { name: "Arakonnam-2", imgSrc: "buspic.png" },
            { name: "Arcot", imgSrc: "buspic.png" },
            { name: "Arul Nagar", imgSrc: "buspic.png" },
            { name: "Avadi Veltech", imgSrc: "buspic.png" },
            { name: "Ayapakkam", imgSrc: "buspic.png" },
            { name: "Chengalpet", imgSrc: "buspic.png" },
            { name: "Chintadripet", imgSrc: "buspic.png" },
            { name: "Choolai", imgSrc: "buspic.png" },
            { name: "Choolaimedu", imgSrc: "buspic.png" },
            { name: "CMBT", imgSrc: "buspic.png" },
            { name: "Ennore", imgSrc: "buspic.png" },
            { name: "Foreshore Estate", imgSrc: "buspic.png" },
            { name: "GRT", imgSrc: "buspic.png" },
            { name: "Guindy", imgSrc: "buspic.png" },
            { name: "Hasthinapuram", imgSrc: "buspic.png" },
            { name: "IOC", imgSrc: "buspic.png" },
            { name: "Kadambathur", imgSrc: "buspic.png" },
            { name: "Kanchipuram-1", imgSrc: "buspic.png" },
            { name: "Kanchipuram-2", imgSrc: "buspic.png" },
            { name: "Kanchipuram-3", imgSrc: "buspic.png" },
            { name: "Kanchipuram-4", imgSrc: "buspic.png" },
            { name: "Kanchipuram-5", imgSrc: "buspic.png" },
            { name: "Kelambakkam", imgSrc: "buspic.png" },
            { name: "KK Nagar", imgSrc: "buspic.png" },
            { name: "Korattur", imgSrc: "buspic.png" },
            { name: "Kundrathur", imgSrc: "buspic.png" },
            { name: "Light house", imgSrc: "buspic.png" },
            { name: "Madhavaram Milk colony", imgSrc: "buspic.png" },
            { name: "Manali", imgSrc: "buspic.png" },
            { name: "Medavakkam", imgSrc: "buspic.png" },
            { name: "Moolakadai", imgSrc: "buspic.png" },
            { name: "MR Nagar", imgSrc: "buspic.png" },
            { name: "Nesapakkam", imgSrc: "buspic.png" },
            { name: "Oragadam", imgSrc: "buspic.png" },
            { name: "Pallavaram", imgSrc: "buspic.png" },
            { name: "Pallikaranai", imgSrc: "buspic.png" },
            { name: "Pattabiram", imgSrc: "buspic.png" },
            { name: "Perambur", imgSrc: "buspic.png" },
            { name: "Purasaiwakkam", imgSrc: "buspic.png" },
            { name: "Puzhal Camp", imgSrc: "buspic.png" },
            { name: "Redhills", imgSrc: "buspic.png" },
            { name: "Retteri", imgSrc: "buspic.png" },
            { name: "Selaiyur", imgSrc: "buspic.png" },
            { name: "Sholinghur", imgSrc: "buspic.png" },
            { name: "SRMC", imgSrc: "buspic.png" },
            { name: "T Nagar", imgSrc: "buspic.png" },
            { name: "Tachur X Road", imgSrc: "buspic.png" },
            { name: "Tambaram", imgSrc: "buspic.png" },
            { name: "Thakkolam", imgSrc: "buspic.png" },
            { name: "Thirumullaivoyal", imgSrc: "buspic.png" },
            { name: "Thirunindravur", imgSrc: "buspic.png" },
            { name: "Thiruttani", imgSrc: "buspic.png" },
            { name: "Thiruvallur", imgSrc: "buspic.png" },
            { name: "Toll Gate", imgSrc: "buspic.png" },
            { name: "Tondairpet", imgSrc: "buspic.png" },
            { name: "TVK Nagar", imgSrc: "buspic.png" },
            { name: "ValluvarKottam", imgSrc: "buspic.png" },
            { name: "Vandalur", imgSrc: "buspic.png" },
            { name: "VGP", imgSrc: "buspic.png" },
            { name: "Velachery-2", imgSrc: "buspic.png" },
            { name: "Walaja", imgSrc: "buspic.png" },
            { name: "Welding Shop", imgSrc: "buspic.png" }

        ];

        // Function to retrieve the query parameter from the URL
        function getQueryParameter(name) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(name);
        }

        // Execute when the DOM is fully loaded
        document.addEventListener('DOMContentLoaded', function() {
            const searchQuery = getQueryParameter('query'); // Get the 'query' parameter from URL
            
            if (searchQuery) {
                searchBus(searchQuery); // Perform the search with the query
            }
        });

        // Function to perform search and display results
        function searchBus(query) {
            const results = cards.filter(card => card.name.toLowerCase().includes(query.toLowerCase()));
            const resultsContainer = document.getElementById('search-results');
            const noResults = document.getElementById('no-results');
            
            resultsContainer.innerHTML = ''; // Clear previous results
            noResults.style.display = 'none';

            if (results.length === 0) {
                noResults.style.display = 'block';
                return;
            }

            results.forEach(result => {
                const col = document.createElement('div');
                col.className = 'col-md-3 mb-4';

                const card = document.createElement('div');
                card.className = 'card';
                card.style.cursor = 'pointer';
                // Pass the bus name as a query parameter
                card.onclick = () => window.location.href = `bus-details.html?name=${encodeURIComponent(result.name)}`;

                const img = document.createElement('img');
                img.src = result.imgSrc;
                img.className = 'card-img-top';

                const cardBody = document.createElement('div');
                cardBody.className = 'card-body';

                const title = document.createElement('h5');
                title.className = 'card-title';
                title.textContent = result.name;

                cardBody.appendChild(title);
                card.appendChild(img);
                card.appendChild(cardBody);
                col.appendChild(card);
                resultsContainer.appendChild(col);
            });
        }
    </script>
</body>
</html>
